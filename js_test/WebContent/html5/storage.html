<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<style type="text/css">
body{
    background-color:#2B2B2B;
    color: white;
    font-family: Lucida Grande;
}
 h2, h3 {
    color: #F5F5F5;
}
#displaysession, #displaylocal {
    padding:5px;
    border:1px solid #FFC;
    margin:10px; 
    width:350px;
    height:auto;
}
a, a:hover, a:visited {
	text-decoration: none;
	color: white;
	font-weight: bold;
}
#session_storage_info{
    padding-top: 5px;
    padding-bottom: 5px;
    margin-bottom:10px;
    border-bottom: 2px dotted white;
}
</style>

<script type="text/javascript">
window.onload = function() {
	loadvalues();
}

function loadvalues() {
	getthestuffSession();
	getthestuffLocal();
}

function savethestuffSession() {
	var lala = document.getElementById("first");
	var thevalue = lala.value;
	
	sessionStorage.setItem(1, thevalue);
	getthestuffSession();
}

function getthestuffSession() {
	var data;
	var thediv = document.getElementById("displaysession");
	
	data = sessionStorage.getItem(1);
	
	if (data) {
		thediv.innerHTML = "저장된 값 : " + data;
	}
}

function savethestuffLocal() {
	var lala = document.getElementById("second");
	var thevalue = lala.value;
	
	localStorage.setItem(1, thevalue);
	getthestuffLocal();
}

function getthestuffLocal() {
	var data;
	var thediv = document.getElementById("displaylocal");
	
	data = localStorage.getItem(1);
	
	if (data) {
		thediv.innerHTML = "저장된 값 : " + data;
	}
}

addEventListener("storage", function(e) {	
	alert(e.key);
	
	if (e.oldValue) {
		alert("changed from \'" + e.oldValue + "\' to \'" + e.newValue + "\''");
	}
	
}, false);
</script>

</head>
<body>

<h2>세션 스토리지(Session Storage)</h2>
<input type="text" name="" value="" id="first">
<button onclick="savethestuffSession()">저장</button>
<div id="displaysession">비어있음</div>


<h2>로컬 스토리지(Local Storage)</h2>  
<input type="text" name="" value="" id="second" />  
<button onclick="savethestuffLocal()">저장!</button>  
<div id="displaylocal">비어있음</div> 


<h2>addEventListener</h2>
<div id="sample"></div>

</body>
</html>